<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<!-- Mirrored from www.mpyprojects.com/software/getting_started/blinky-explained-2/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 03 Apr 2013 03:32:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Mpy Projects  |  2 blinky explained</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index, follow" />
<link rel="stylesheet" type="text/css" href="../../../wp-content/themes/swatch/style.css" media="screen" />
<link rel="pingback" href="../../../xmlrpc.php" />

<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; 2 blinky explained Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='codecolorer-css'  href='../../../wp-content/plugins/codecolorer/codecolorere2dc.css?ver=0.9.9' type='text/css' media='screen' />
<link rel='stylesheet' id='column-styles-css'  href='../../../wp-content/plugins/ultimate-tinymce/css/column-stylee735.css?ver=3.4' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/comment-replye735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jqueryba3a.js?ver=1.7.2'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/slides.min.jquerye735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/feedbacke735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.core.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.widget.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.tabs.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/generale735.js?ver=3.4'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='1 First Steps in mpy Programming' href='../first-steps-1/index.html' />
<link rel='next' title='4 Spaces are Important' href='../spaces-are-important-3/index.html' />
<meta name="generator" content="WordPress 3.4" />
<link rel='canonical' href='index.html' />

<!-- Theme version -->
<meta name="generator" content="Swatch 1.4.8" />
<meta name="generator" content="WooFramework 5.3.12" />
<!-- Woo Custom Styling -->
<style type="text/css">
body { background-color: #dae1e3 !important; }
body { background-image: none; }
#wrapper a, .post-more a:link, .post-meta a:link, .post p.tags a:link, #wrapper #comments .reply a { color: #702670 !important; }
#wrapper a, .post-more a:visited, .post-meta a:visited, .post p.tags a:visited, #wrapper #comments .reply a:visited { color: #702670 !important; }
#wrapper a:hover, .post-more a:hover, .post-meta a:hover, .post p.tags a:hover, #wrapper #comments .reply a:hover { color: #c250c2 !important; }
a.button, #commentform #submit, #contact-page .submit { background: #297d53; border-color: #297d53 !important; }
a.button:hover, a.button.hover, a.button.active, #commentform #submit:hover, #contact-page .submit:hover { background: #297d53 !important; opacity: 0.9; }
</style>

<!-- Google Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Ubuntu:r,b,i,bi|Ubuntu+Mono" rel="stylesheet" type="text/css" />
<!-- Woo Custom Typography -->
<style type="text/css">
body { font:normal 18px/1.5em 'Ubuntu Mono', arial, sans-serif;color:#444444 !important; }
#navigation, #navigation .nav a { font:normal 16px/1.4em 'Ubuntu', arial, sans-serif;color:#FFFFFF !important; !important; }
.post .title { font:bold 30px/1em Arial, sans-serif;color:#88AC0B !important; }
.post-meta { font:normal 12px/1em "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", sans-serif;color:#444444 !important; }
.entry, .entry p { font:normal 14px/1.5em Arial, sans-serif;color:#444444 !important; } h1, h2, h3, h4, h5, h6 { font-family: Arial, sans-serif, arial, sans-serif; }
#sidebar .widget h3 { font:bold 16px/1em 'Ubuntu', arial, sans-serif;color:#444444 !important; }
#footer-widgets .widget h3 { font:normal 10px/1em Arial, sans-serif;color:#AAA8A8 !important; }
</style>


<!-- Alt Stylesheet -->
<link href="../../../wp-content/themes/swatch/styles/green.css" rel="stylesheet" type="text/css" />

<!-- Custom Favicon -->
<link rel="shortcut icon" href="../../../wp-content/uploads/2012/01/mpy_favicon1.ico"/>

<!-- Woo Shortcodes CSS -->
<link href="../../../wp-content/themes/swatch/functions/css/shortcodes.css" rel="stylesheet" type="text/css" />

<!-- Custom Stylesheet -->
<link href="../../../wp-content/themes/swatch/custom.css" rel="stylesheet" type="text/css" />

</head>

<body class="page page-id-1247 page-child parent-pageid-252 page-template-default unknown layout-full">

<div id="wrapper">

		<div id="header">
		<div class="col-full">
			<div id="logo">
		    							<a href="../../../index.html" title="Mpy Projects for the Launchpad MSP430 Microcontroller">
					<img src="../../../../mpyprojects.com/uploads/3/0/5/7/3057496/1332218336.png" alt="Mpy Projects" />
				</a>
	        
	        				<span class="site-title"><a href="../../../index.html">Mpy Projects</a></span>
	        				<span class="site-description">Mpy Projects for the Launchpad MSP430 Microcontroller</span>

			</div><!-- /#logo -->

			<div id="navigation" class="fr">

				<ul id="main-nav" class="nav fl"><li id="menu-item-1789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1789"><a href="../../../index.html">Home</a></li>
<li id="menu-item-48" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-48"><a href="../../../hardware/index.html">hardware</a></li>
<li id="menu-item-49" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-49"><a href="../../index.html">software</a>
<ul class="sub-menu">
	<li id="menu-item-258" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-258"><a href="../index.html">Getting Started</a></li>
	<li id="menu-item-58" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58"><a href="../../mpy-editor/index.html">mpy Editor</a></li>
	<li id="menu-item-45" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-45"><a href="../../mpy-language/index.html">mpy Language</a></li>
</ul>
</li>
<li id="menu-item-46" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-46"><a href="../../../projects/index.html">projects</a></li>
<li id="menu-item-51" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-51"><a href="../../../download/index.html">download</a></li>
<li id="menu-item-47" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-47"><a href="http://www.43oh.com/forum/viewforum.php?f=39">forum</a></li>
<li id="menu-item-1587" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1587"><a href="http://www.43oh.com/forum/viewforum.php?f=39">contact</a></li>
</ul>				
			</div><!-- /#navigation -->

		</div><!--/.col-full-->
	</div><!--/#header-->       
    <div id="content" class="page col-full">
		<div id="main" class="col-left">
		           
		  			

                                                                                    
            <div class="post-1247 page type-page status-publish hentry drop-shadow lifted">

			    <h1 class="title">2 blinky explained</h1>

                <div class="entry">
                	<pre><strong>################################################################</strong>
<strong>#</strong>   myblinky.mpy    Flash the green led
<strong>################################################################</strong>

dirout(GREENLED)               # Set pin P1_0 to be an output (this is connected to the Launchpad green led)
while 1:                       # loop forever
   out(GREENLED,1)             # turn the green led on
   wait(500)                   # wait for 500ms  (half a second)
   out(GREENLED,0)             # turn the green led off
   wait(500)</pre>
<h3 style="text-align: justify;">Comments</h3>
<p style="text-align: justify;">Lines that start with a <strong>#</strong> character are comments,  and everything after the <strong>#</strong> character on a line is a  comment too. Comments are ignored by the <strong>mpyEditor</strong> and have no effect on the program. Good programmers put comments into their code to remind them what the program does. Comments are good.  Get into the habit of writing comments in your programs.</p>
<p>Completely blank lines are ignored also.</p>
<h3>IO pin direction</h3>
<p>The first proper <strong>mpy</strong> command is the line</p>
<pre>dirout(GREENLED)</pre>
<p style="text-align: justify;"><strong>dirout</strong> is a <strong>mpy</strong> command, it<strong></strong> is short for <strong>direction output</strong>. What it does is tell the microcontroller to make the pin <strong>GREENLED</strong> an output pin. <strong>GREENLED</strong> is the name of the pin on the microcontroller that is connected to the green LED at the bottom of the Launchpad board.</p>
<p style="text-align: justify;">The MSP430 microcontroller chip has many pins which you can control with a <strong>mpy</strong> program. Each pin can be used as an input or an output. The <strong>dirout</strong> command makes the pin an output, and <strong>dirinp</strong> would make it an input.  By making this pin an output we can use the <strong>out</strong> command to change the voltage on the pin, and this will turn the green LED on or off.</p>
<h3 style="text-align: justify;">IO Pin names</h3>
<p style="text-align: justify;">You can access  any of the pins on the <strong>MSP430</strong> chip using its <strong></strong> pinname. There are two rows of pins one on each side of the <strong>Launchpad</strong> board and each pin is labelled with its pinname. <strong></strong> The pinnames on the board  are labelled  <strong>P1.0</strong> through to <strong>P2.7</strong>. However in the mpy program the name is of the form <strong>P1_0</strong> through to <strong>P2_7</strong>. (You must use the  underscore <strong>&#8216;_&#8217;</strong> character)</p>
<p style="text-align: justify;"><strong></strong><strong></strong>Some of the pinnames have alternative names to make them easier to remember. This is the case for the green LED, it is connected to the pin <strong>P1_6</strong>, but it also has the name <strong>GREENLED</strong>.   <strong>dirout(GREENLED)</strong> and <strong>dirout(P1_6)</strong> are the same. Also the name  <strong>REDLED</strong> is the same as pinname <strong>P1_0</strong> and name <strong>SWITCH</strong> is the same as pinname <strong>P1_3</strong>.</p>
<h3>while loop</h3>
<p>The next line is</p>
<pre>while 1:</pre>
<p style="text-align: justify;">This means loop through the lines that follow forever. All the commands that follow this will be run, and when they are done,  it will run through the loop again. It will continue forever until we switch off  the power to the microcontroller, or we program a new program into the microcontroller.</p>
<h3>Flash the LED</h3>
<p>The next line is</p>
<pre>   out(GREENLED,1)</pre>
<p style="text-align: justify;">The <strong>out()</strong> command is an output command that can write a <strong>1</strong> or <strong>0</strong> to the <strong>GREENLED</strong> pin, and this will turn the LED on. A <strong>1</strong> means that a positive voltage will be put on the output pin. The actual voltage will be the same as the power supply voltage that is connected to the MSP430 chip. (This will normally be<strong> 3.3v</strong> on a Launchpad board) . A <strong>0</strong> will mean that <strong>0v</strong> will be put on the output pin, and this would turn the LED off.</p>
<p>The next line is</p>
<pre>   wait(500)</pre>
<p style="text-align: justify;">The <strong>wait</strong> command will wait <strong>500</strong> milliseconds before moving onto the next command. (A millisecond is <strong>1/1000th</strong> of a second, so <strong>500</strong> miliseconds is the sama as a <strong>1/2</strong> of a second). This will mean that the green LED will be on for <strong>1/2</strong> a second</p>
<p>The next lines are</p>
<pre>   out(GREENLED,0)
   wait(500)</pre>
<p style="text-align: justify;">This is a repeat of the previous two lines but notice now that the output value for the <strong>out( )</strong> command is a <strong>0</strong>, which will put <strong>0v</strong> on the <strong>GREENLED</strong> pin and the green LED will be turned off.  Then we have another  <strong>500</strong> millisecond wait.</p>
<p>So the green LED will be turned on for <strong>1/2</strong> a second and then turned off for <strong>1/2</strong> a second, the green LED will flash once.</p>
<p>However because these lines are inside the while loop it will repeat the flash forever once every second.</p>
<p>If you followed this then you are well on your way to understanding <strong>mpy</strong> programming.</p>
<p><a href="../hello-world/index.html"><img class="alignright size-full wp-image-1530" title="Next" src="../../../wp-content/uploads/2012/07/Next.jpg" alt="" width="74" height="70" /></a></p>
<p><a href="../first-steps-1/index.html"><img class="alignright size-full wp-image-1529" title="back" src="../../../wp-content/uploads/2012/07/back.jpg" alt="" width="69" height="73" /></a></p>
<p>&nbsp;</p>

					               	</div><!-- /.entry -->

				                
            </div><!-- /.post -->
            
                                                            
		  
        
		</div><!-- /#main -->

        
    </div><!-- /#content -->
		
	
	<div id="footer">
		<div class="col-full">

		<div id="copyright" class="col-left">
					<p>Mpy Projects &copy; 2013. All Rights Reserved.</p>
				</div>

		<div id="credit" class="col-right">
        			<p>Powered by <a href="http://www.wordpress.org/">WordPress</a>. Designed by <a href="http://www.woothemes.com/"><img src="../../../wp-content/themes/swatch/images/woothemes.png" width="74" height="19" alt="Woo Themes" /></a></p>
				</div></div>
	</div><!-- /#footer  -->
</div><!-- /#wrapper -->
</body>

<!-- Mirrored from www.mpyprojects.com/software/getting_started/blinky-explained-2/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 03 Apr 2013 03:32:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
<!-- This Quick Cache file was built for (  www.mpyprojects.com/software/getting_started/blinky-explained-2/ ) in 7.61180 seconds, on Apr 3rd, 2013 at 3:27 am UTC. -->
<!-- This Quick Cache file will automatically expire ( and be re-built automatically ) on Apr 3rd, 2013 at 3:28 am UTC -->