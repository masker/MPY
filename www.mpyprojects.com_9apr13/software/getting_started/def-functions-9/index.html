<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<!-- Mirrored from www.mpyprojects.com/software/getting_started/def-functions-9/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 03 Apr 2013 03:33:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Mpy Projects  |  10 Functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index, follow" />
<link rel="stylesheet" type="text/css" href="../../../wp-content/themes/swatch/style.css" media="screen" />
<link rel="pingback" href="../../../xmlrpc.php" />

<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Mpy Projects &raquo; 10 Functions Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='codecolorer-css'  href='../../../wp-content/plugins/codecolorer/codecolorere2dc.css?ver=0.9.9' type='text/css' media='screen' />
<link rel='stylesheet' id='column-styles-css'  href='../../../wp-content/plugins/ultimate-tinymce/css/column-stylee735.css?ver=3.4' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/comment-replye735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jqueryba3a.js?ver=1.7.2'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/slides.min.jquerye735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/feedbacke735.js?ver=3.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.core.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.widget.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/jquery.ui.tabs.mine8d2.js?ver=1.8.20'></script>
<script type='text/javascript' src='../../../wp-content/themes/swatch/includes/js/generale735.js?ver=3.4'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='9 Inputs and Outputs' href='../inputs-8/index.html' />
<link rel='next' title='5 Variables' href='../variables-4/index.html' />
<meta name="generator" content="WordPress 3.4" />
<link rel='canonical' href='index.html' />

<!-- Theme version -->
<meta name="generator" content="Swatch 1.4.8" />
<meta name="generator" content="WooFramework 5.3.12" />
<!-- Woo Custom Styling -->
<style type="text/css">
body { background-color: #dae1e3 !important; }
body { background-image: none; }
#wrapper a, .post-more a:link, .post-meta a:link, .post p.tags a:link, #wrapper #comments .reply a { color: #702670 !important; }
#wrapper a, .post-more a:visited, .post-meta a:visited, .post p.tags a:visited, #wrapper #comments .reply a:visited { color: #702670 !important; }
#wrapper a:hover, .post-more a:hover, .post-meta a:hover, .post p.tags a:hover, #wrapper #comments .reply a:hover { color: #c250c2 !important; }
a.button, #commentform #submit, #contact-page .submit { background: #297d53; border-color: #297d53 !important; }
a.button:hover, a.button.hover, a.button.active, #commentform #submit:hover, #contact-page .submit:hover { background: #297d53 !important; opacity: 0.9; }
</style>

<!-- Google Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Ubuntu:r,b,i,bi|Ubuntu+Mono" rel="stylesheet" type="text/css" />
<!-- Woo Custom Typography -->
<style type="text/css">
body { font:normal 18px/1.5em 'Ubuntu Mono', arial, sans-serif;color:#444444 !important; }
#navigation, #navigation .nav a { font:normal 16px/1.4em 'Ubuntu', arial, sans-serif;color:#FFFFFF !important; !important; }
.post .title { font:bold 30px/1em Arial, sans-serif;color:#88AC0B !important; }
.post-meta { font:normal 12px/1em "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", sans-serif;color:#444444 !important; }
.entry, .entry p { font:normal 14px/1.5em Arial, sans-serif;color:#444444 !important; } h1, h2, h3, h4, h5, h6 { font-family: Arial, sans-serif, arial, sans-serif; }
#sidebar .widget h3 { font:bold 16px/1em 'Ubuntu', arial, sans-serif;color:#444444 !important; }
#footer-widgets .widget h3 { font:normal 10px/1em Arial, sans-serif;color:#AAA8A8 !important; }
</style>


<!-- Alt Stylesheet -->
<link href="../../../wp-content/themes/swatch/styles/green.css" rel="stylesheet" type="text/css" />

<!-- Custom Favicon -->
<link rel="shortcut icon" href="../../../wp-content/uploads/2012/01/mpy_favicon1.ico"/>

<!-- Woo Shortcodes CSS -->
<link href="../../../wp-content/themes/swatch/functions/css/shortcodes.css" rel="stylesheet" type="text/css" />

<!-- Custom Stylesheet -->
<link href="../../../wp-content/themes/swatch/custom.css" rel="stylesheet" type="text/css" />

</head>

<body class="page page-id-1259 page-child parent-pageid-252 page-template-default unknown layout-full">

<div id="wrapper">

		<div id="header">
		<div class="col-full">
			<div id="logo">
		    							<a href="../../../index.html" title="Mpy Projects for the Launchpad MSP430 Microcontroller">
					<img src="../../../../mpyprojects.com/uploads/3/0/5/7/3057496/1332218336.png" alt="Mpy Projects" />
				</a>
	        
	        				<span class="site-title"><a href="../../../index.html">Mpy Projects</a></span>
	        				<span class="site-description">Mpy Projects for the Launchpad MSP430 Microcontroller</span>

			</div><!-- /#logo -->

			<div id="navigation" class="fr">

				<ul id="main-nav" class="nav fl"><li id="menu-item-1789" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1789"><a href="../../../index.html">Home</a></li>
<li id="menu-item-48" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-48"><a href="../../../hardware/index.html">hardware</a></li>
<li id="menu-item-49" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-49"><a href="../../index.html">software</a>
<ul class="sub-menu">
	<li id="menu-item-258" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-258"><a href="../index.html">Getting Started</a></li>
	<li id="menu-item-58" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58"><a href="../../mpy-editor/index.html">mpy Editor</a></li>
	<li id="menu-item-45" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-45"><a href="../../mpy-language/index.html">mpy Language</a></li>
</ul>
</li>
<li id="menu-item-46" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-46"><a href="../../../projects/index.html">projects</a></li>
<li id="menu-item-51" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-51"><a href="../../../download/index.html">download</a></li>
<li id="menu-item-47" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-47"><a href="http://www.43oh.com/forum/viewforum.php?f=39">forum</a></li>
<li id="menu-item-1587" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1587"><a href="http://www.43oh.com/forum/viewforum.php?f=39">contact</a></li>
</ul>				
			</div><!-- /#navigation -->

		</div><!--/.col-full-->
	</div><!--/#header-->       
    <div id="content" class="page col-full">
		<div id="main" class="col-left">
		           
		  			

                                                                                    
            <div class="post-1259 page type-page status-publish hentry drop-shadow lifted">

			    <h1 class="title">10 Functions</h1>

                <div class="entry">
                	<h3 style="text-align: justify;">def</h3>
<p style="text-align: justify;">Functions are very useful, they allow a you to reuse a piece of code so you don&#8217;t have to rewrite it each time you want to do the same thing. This is not only great for lazy people, it is also more efficient,  and can even make your program more reliable.</p>
<p style="text-align: justify;">In the previous example,  the code to flash the <strong>GREENLED</strong> is almost identical to the code to flash the <strong>REDLED</strong>.</p>
<p>Using a <strong>def</strong> statement we can make a function that can flash any of the LEDs. So we can rewrite the previous example like this:</p>
<pre>##############################################
def flash_once(pin):  # define a function to flash the LED
    out(pin,1)
    wait(500)
    out(pin,0)
    wait(500)

##############################################
# This is where the program really starts
##############################################

dirout(GREENLED)
dirout(REDLED)
dirinpu(SWITCH) # setup the pin as an input

while 1:
    sw = inp(SWITCH)        # read the input pin, pressed == 0, not pressed == 1
    if sw == 1:
        flash_once(GREENLED) # run the function flash_once() using parameter GREENLED
    else:
        flash_once(REDLED)   # run the same function using parameter REDLED

############################################</pre>
<p style="text-align: justify;">The commands that flash the LED have now been put into a function definition. It uses the word <strong>def</strong>  followed by the function name <strong>flash_once</strong> which can be any name you want (it must start with a letter or a <strong>_</strong> just like a variable name).  The lines that follow the <strong>def</strong> line are indented and form a block of code.  The line must also must end with a<strong> :</strong> character.</p>
<p style="text-align: justify;">The <strong>def</strong> function definitions must be at the beginning of the file, and before the start of the main program. You can have multiple <strong>def</strong> statements, one for each function you want to define.</p>
<h3 style="text-align: justify;">parameters</h3>
<p style="text-align: justify;">Values can be passed to the function, values passed into a function are more commonly called <strong>parameters</strong>.  The <strong>parameter</strong> can be used inside the function to perform some operation on it.  You can have more than one parameter if you want or no parameters. However all the parameters must be enclosed inside round brackets, and each parameter must be separated by a <strong>&#8216;,&#8217;</strong> . There must be a <strong>:</strong> colon at the end of the line. Which tells the program that a block of code will follow.  As usual the block of code must be indented by placing spaces at the beginning of each line within the block.</p>
<p>We can use more parameters to do more fancy operations, like</p>
<pre>######################################################
def flash( pinname, flash_count, wait_time ):  # define a function to flash the LED
    while flash_count &gt; 0:
        out(pinname,1)
        wait(wait_time)
        out(pinname,0)
        wait(wait_time)
        flash_count = flash_count - 1

##############################################
# This is where the program really starts
##############################################

dirout(GREENLED)
dirout(REDLED)
dirinpu(SWITCH)

while 1:
    sw = inp(SWITCH)            # read the input pin, pressed == 0, not pressed == 1
    if sw == 1:
        flash(GREENLED, 5, 100) # flash the GREENLED 5 times with 100ms on time.
    else:
        flash(REDLED, 3, 200)   # flash the REDLED 3 times with 200ms on time</pre>
<pre>######################################################</pre>
<p style="text-align: justify;">In this example we are passing in three parameters to the<strong> flash()</strong> function, the first parameter is is <strong>pinname</strong> and is used to select which LED to light just like the previous example. The second parameter is called <strong>flash_count</strong> and is used to set the number of flashes on the LED.  The third parameter is called <strong>wait_time</strong>, it is used to specify how long each flash should last. Go ahead and program this and give it a try.</p>
<hr style="width: 2px;" width="2" />
<h3 style="text-align: justify;">return</h3>
<p style="text-align: justify;">The final special feature of the <strong>def function</strong> is that it can return a value.  If you use a<strong> return</strong> command at the end of your function it can return a value back to the main code.</p>
<pre style="text-align: justify;">############################
def mult(a,b):
    c = a * b
    return c
############################</pre>
<pre style="text-align: justify;">x = 12
y = 13
z = mult(x,y)
print( ' the multiplication answer is',  z)</pre>
<p style="text-align: justify;">This example shows how to return a value from a function. Note that only one value can be returned from a function.</p>
<h3>macro</h3>
<p>Before we finish we should mention the <strong>macro( )</strong> command. The <strong>macro( )</strong> command is used to replace one text with another. This can often make your <strong>mpy</strong> program easier to read and understand. The easier the code is to understand the less mistakes you are likely to make.</p>
<p>Example:</p>
<pre>macro(RED_ALERT,  P1_0 )

dirout(RED_ALERT)
out(RED_ALERT, 1)
wait(2000)
out(RED_ALERT, 0)</pre>
<p><a href="../well-done/index.html"><img class="alignright" title="Next" src="../../../wp-content/uploads/2012/07/Next.jpg" alt="" width="74" height="70" /></a></p>
<p><a href="../inputs-8/index.html"><img class="alignright" title="Back" src="../../../wp-content/uploads/2012/07/back.jpg" alt="" width="69" height="73" /></a></p>
<p>&nbsp;</p>

					               	</div><!-- /.entry -->

				                
            </div><!-- /.post -->
            
                                                            
		  
        
		</div><!-- /#main -->

        
    </div><!-- /#content -->
		
	
	<div id="footer">
		<div class="col-full">

		<div id="copyright" class="col-left">
					<p>Mpy Projects &copy; 2013. All Rights Reserved.</p>
				</div>

		<div id="credit" class="col-right">
        			<p>Powered by <a href="http://www.wordpress.org/">WordPress</a>. Designed by <a href="http://www.woothemes.com/"><img src="../../../wp-content/themes/swatch/images/woothemes.png" width="74" height="19" alt="Woo Themes" /></a></p>
				</div></div>
	</div><!-- /#footer  -->
</div><!-- /#wrapper -->
</body>

<!-- Mirrored from www.mpyprojects.com/software/getting_started/def-functions-9/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 03 Apr 2013 03:33:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
<!-- This Quick Cache file was built for (  www.mpyprojects.com/software/getting_started/def-functions-9/ ) in 8.58560 seconds, on Apr 3rd, 2013 at 3:27 am UTC. -->
<!-- This Quick Cache file will automatically expire ( and be re-built automatically ) on Apr 3rd, 2013 at 3:28 am UTC -->